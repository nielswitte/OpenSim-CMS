<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>OpenSim-CMS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Documentation v0.9" />
    <meta name="author" content="OpenSim-CMS">
        <link rel="icon" href="../../img/favicon.png" type="image/x-icon">
        <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,700,300,100' rel='stylesheet' type='text/css'>

    <!-- LESS -->
            <style type="text/less">
            @import "../../less/import/daux-base.less";
                        @sidebar-background: #f8f8f8;
                        @sidebar-hover: #e7e7e7;
                        @lines: #e1e1e8;
                        @dark: #333333;
                        @light: #e1e1e8;
                        @text: #000000;
                        @syntax-string: #022e99;
                        @syntax-comment: #84989b;
                        @syntax-number: #428bca;
                        @syntax-label: #840d7a;
                    </style>
        <script src="../../js/less.min.js"></script>
    </head>
<body>
            <!-- Docs -->
                    <a href="https://github.com/nielswitte/OpenSim-CMS" target="_blank" id="github-ribbon" class="hidden-print"><img src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
                <div class="container-fluid fluid-height wrapper">
            <div class="navbar navbar-fixed-top hidden-print">
                <div class="container-fluid">
                    <a class="brand navbar-brand pull-left" href="../../index.html">OpenSim-CMS</a>
                    <p class="navbar-text pull-right">
                        Generated by <a href="http://daux.io">Daux.io</a>
                    </p>
                </div>
            </div>

            <div class="row columns content">
                <div class="left-column article-tree col-sm-3 hidden-print">
                    <!-- For Mobile -->
                    <div class="responsive-collapse">
                        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div id="sub-nav-collapse" class="sub-nav-collapse">
                        <!-- Navigation -->
                        <ul class="nav nav-list"><li><a href="#" class="aj-nav folder">Installation</a><ul class="nav nav-list"><li><a href="../../Installation/./Installation.html">Installation</a></li><li><a href="../../Installation/./Assets.html">Assets</a></li><li><a href="../../Installation/./OpenSim.html">OpenSim</a></li></ul></li><li class="open"><a href="#" class="aj-nav folder">API</a><ul class="nav nav-list"><li><a href="../../API/./API.html">API</a></li><li><a href="../../API/./Authentication.html">Authentication</a></li><li><a href="../../API/./Permissions.html">Permissions</a></li><li><a href="../../API/./Users.html">Users</a></li><li><a href="../../API/./Avatars.html">Avatars</a></li><li><a href="../../API/./Groups.html">Groups</a></li><li><a href="../../API/./Chats.html">Chats</a></li><li><a href="../../API/./Meetings.html">Meetings</a></li><li><a href="../../API/./Minutes.html">Minutes</a></li><li><a href="../../API/./Meeting_Rooms.html">Meeting Rooms</a></li><li class="open"><a href="#" class="aj-nav folder">Files</a><ul class="nav nav-list"><li><a href="../../API/Files/./Files.html">Files</a></li><li><a href="../../API/Files/./Documents.html">Documents</a></li><li><a href="../../API/Files/./Presentations.html">Presentations</a></li><li><a href="../../API/Files/./Cache.html">Cache</a></li></ul></li><li><a href="../../API/./Comments.html">Comments</a></li><li><a href="../../API/./Grids.html">Grids</a></li><li><a href="../../API/./Regions.html">Regions</a></li></ul></li><li><a href="#" class="aj-nav folder">CMS</a><ul class="nav nav-list"><li><a href="../../CMS/./CMS.html">CMS</a></li><li><a href="../../CMS/./Login.html">Login</a></li><li><a href="../../CMS/./Dashboard.html">Dashboard</a></li><li><a href="../../CMS/./Grids.html">Grids</a></li><li><a href="../../CMS/./Meetings.html">Meetings</a></li><li><a href="../../CMS/./Documents.html">Documents</a></li><li><a href="../../CMS/./Users_and_Groups.html">Users and Groups</a></li></ul></li></ul>                                            </div>
                </div>
                <div class="right-column  content-area col-sm-9">
                    <div class="content-page">
                        <article>
                                                            <div class="page-header sub-header clearfix">
                                    <h1>Cache                                                                            </h1>
                                        <span style="float: left; font-size: 10px; color: gray;">
                                            Wednesday, April 16, 2014                                        </span>
                                        <span style="float: right; font-size: 10px; color: gray;">
                                            11:12 AM                                        </span>
                                </div>
                                                        <p>The cache section of images, document pages and presentation slides is used to prevent the OpenSim server from downloading and converting the same image over and over again. When OpenSim has successfully converted a slide or a page, it can provide the CMS with feedback to speed up future access of the same slide or page on the Grid.</p>

<p>The cache section will look something like this:</p>

<pre><code class="language-json">    "cache": {
        "1": {
            "uuid": "45e1c4bb-31cd-4b9b-b0a2-720f3f013a6d",
            "expires": "2014-04-16 15:59:43",
            "isExpired": 0
        },
        "3": {
            "uuid": "ef2e0867-9429-4c1b-ad32-66a8ffe71b4d",
            "expires": "2014-04-10 06:23:18",
            "isExpired": 1
        }
    }
</code></pre>

<p>The number in front of the cache details, in this example <code>1</code> and <code>3</code> indicates the Grid ID of the cached asset. So, on the grid which is known in the CMS with ID 3, the image, page or slide is known under the <code>uuid: ef2e0867-9429-4c1b-ad32-66a8ffe71b4d</code>. However, as you can see the cache has already expired on that grid so the server has probably removed the UUID from its temporary assets. The <code>presenterScreen.lsl</code> asset implemented the cache function and checks to see if the image can be loaded from the assets cache or needs to be loaded through the CMS API.</p>

<h2>Update UUID</h2>

<p>These functions depend on the type of document. For pages the update UUID function can be found in the <a href="02_Documents.html">Documents API</a> and for slides in the <a href="03_Presentations.html">Presentation API</a>. Images are single files so cache settings are listed under <a href="01_Files.html">Files API</a>.</p>

<h2>Clear the cache</h2>

<p>Removes all expired items from the cache. The functions returns the number of removed cache items.</p>

<pre><code class="language-http">DELETE /api/files/cache/ HTTP/1.1
</code></pre>
                                                    </article>
                    </div>
                </div>
            </div>
        </div>
    


    <!-- hightlight.js -->
    <script src="../../js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- Navigation -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script>
    if (typeof jQuery == 'undefined')
        document.write(unescape("%3Cscript src='../../js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
        <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/custom.js"></script>
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</body>
</html>
