<?php
    error_reporting(E_ALL);

    define('EXEC',                      '1');                                   // Simple check if file is accessed correctly
    // Server settings
    define('SERVER_DEBUG',              TRUE);                                  // Show debugging output
    define('SERVER_PROTOCOL',           'http');                                // use HTTP or HTTPS
    define('SERVER_ADDRESS',            'localhost');                           // server address, can also be an IP
    define('SERVER_PORT',               80);                                    // server port
    define('SERVER_ROOT',               '/CMS');                                // server root directory
    define('SERVER_API_TOKEN_EXPIRES',  '30 minutes');                          // Time a token is valid after last usage (used by strototime)
    $DB_USERNAME                        = '';                                   // Database username
    $DB_PASSWORD                        = '';                                   // Database password
    $DB_NAME                            = '';                                   // Database name
    $DB_ADDRESS                         = 'localhost';                          // Database host
    $DB_PORT                            = 3306;                                 // Database port

    // OpenSim settings
    define('OS_ASSET_CACHE_EXPIRES',    '48 hours');                            // needs to be the same as the OpenSim cache expiration time (used by strtotime)
    define('OS_REMOTE_ADMIN_URL',       'http://127.0.0.1');                    // Remote admin URL (Be sure to enable Remote Admin in OpenSim.ini)
    define('OS_REMOTE_ADMIN_PORT',      '');                                    // Port used by OpenSim for remote admin
    define('OS_REMOTE_ADMIN_PASSWORD',  '');                                    // OpenSim remote admin password
    define('OS_SERVER_IP',              '127.0.0.1');                           // IP of the OpenSim server
    define('OS_SERVER_PROTOCOL',        'http');                                // Protocol of the server to be used (http or https)
    define('OS_SERVER_PORT',            '9000');                                // Port of the OpenSim server
    define('OS_DEFAULT_REGION',         '');                                    // Name of the default OpenSim Region to use
    define('OS_DEFAULT_REGION_UUID',    '');                                    // Default region's UUID
    define('OS_DB_ENABLED',              FALSE);                                // Use OpenSim MySQL database for extra functionality
    // Only used here
    $OS_DB_USERNAME                     = '';                                   // Username of the OpenSim database
    $OS_DB_PASSWORD                     = '';                                   // Password of the OpenSim database
    $OS_DB_NAME                         = '';                                   // Table of OpenSim in database
    $OS_DB_ADDRESS                      = 'localhost';                          // Address to the OpenSim database
    $OS_DB_PORT                         = 3306;                                 // MySQL database port

    // Files settings
	define('FILES_LOCATION',            'C:\\Soas\\www\\storage');              // Absolute path to storage directory
	define('DS',                        '\\');                                  // Directory separator
	define('PRESENTATIONS',             'presentations');                       // Presentations folder name

    // Image settings
	define('IMAGE_WIDTH',               1024);                                  // Texture width in OpenSim, used to resize presentations
	define('IMAGE_HEIGHT',              1024);                                  // Texture height in OpenSim, used to resize presentations

    // PHP Settings
    date_default_timezone_set("Europe/Amsterdam");                              // see: http://www.php.net/manual/en/timezones.php

    require_once dirname(__FILE__) .'/includes/class.MysqliDb.php';             // MySQL class
    require_once dirname(__FILE__) .'/includes/class.Helper.php';               // Additional helper functions
    require_once dirname(__FILE__) .'/includes/class.OpenSimRPC.php';           // Creates calls for the remote admin functions of OpenSim

    // MySQL settings
    $db = new Mysqlidb($DB_ADDRESS, $DB_USERNAME, $DB_PASSWORD, $DB_NAME, $DB_PORT);// Connect to MySQL database
    Helper::setDB($db);                                                         // Save database to static class to be accessed by the rest of the program

    // Use a MySQL database for OpenSim?
    if(OS_DB_ENABLED) {
        $osdb = new MysqliDb($OS_DB_ADDRESS, $OS_DB_USERNAME, $OS_DB_PASSWORD, $OS_DB_NAME, $OS_DB_PORT);
        Helper::setOSDB($osdb);
    }